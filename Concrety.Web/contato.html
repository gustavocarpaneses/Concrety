<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Contato - Concrety</title>
    <script src="scripts/jquery.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $("#frmContato").submit(function (e) {

                e.preventDefault();

                var nome = document.getElementById("txtNome").value;
                var email = document.getElementById("txtEmail").value;
                var telefone = document.getElementById("txtTelefone").value;
                var mensagem = document.getElementById("txtMensagem").value;

                $.ajax({
                    url: "http://localhost:51503/api/email/PostContato",
                    method: "POST",
                    data: {
                        nome: nome,
                        email: email,
                        telefone: telefone,
                        mensagem: mensagem
                    },
                    success: function (data) {
                        alert("Recebemos os seus dados com sucesso. Em breve entraremos em contato. Obrigado!");
                    },
                    error: function (data) {
                        alert("Desculpe o transtorno, mas ocorreu um erro ao enviar os seus dados. Por favor envie um e-mail para contato@concrety.com.br");
                    }
                });

            });
        });

    </script>
</head>
<body>
    <form name="frmContato" id="frmContato">
        <table style="width:100%;">
            <tr>
                <td style="width:50px;">
                    <label for="nome">Nome:</label>
                </td>
                <td>
                    <input type="text" name="nome" id="txtNome" required="required" style="width:100%;" />
                </td>
            </tr>
            <tr>
                <td>
                    <label for="email">E-mail:</label>
                </td>
                <td>
                    <input type="email" name="email" id="txtEmail" required="required" style="width:100%;" />
                </td>
            </tr>
            <tr>
                <td>
                    <label for="telefone">Telefone:</label>
                </td>
                <td>
                    <input type="tel" name="telefone" id="txtTelefone" placeholder="(XX) XXXXX-XXXX" required="required" style="width:100%;" />
                </td>
            </tr>
            <tr>
                <td style="vertical-align:top;">
                    <label for="mensagem">Mensagem:</label>
                </td>
                <td>
                    <textarea name="mensagem" id="txtMensagem" style="width:100%;height:100px;"></textarea>
                </td>
            </tr>
            <tr>
                <td colspan="2" align="right">
                    <input type="submit" value="Enviar" />
                </td>
            </tr>

        </table>
    </form>
</body>
</html>
